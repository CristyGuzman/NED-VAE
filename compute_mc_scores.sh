#!/bin/bash

set -e
set -o xtrace
echo "first variable is metric $1"
echo "second variable is dimension $2"

for MODEL_J in FactorVAE_1658867433_10 FactorVAE_1658878251_20 FactorVAE_1658878306_1 FactorVAE_1658878329_10 FactorVAE_1658878488_20 FactorVAE_1658878564_40 FactorVAE_1658879092_1 FactorVAE_1658879962_10 FactorVAE_1658880548_20 FactorVAE_1658880677_40 FactorVAE_1658880769_1 FactorVAE_1658880919_10 FactorVAE_1658880930_20 FactorVAE_1658881391_40 
do
    for MODEL_I in FactorVAE_1658915426_1 FactorVAE_1658915465_10 FactorVAE_1658915507_1 FactorVAE_1658915507_20 FactorVAE_1658915507_40 FactorVAE_1658915560_10 FactorVAE_1658917814_20 FactorVAE_1658917828_1 FactorVAE_1658917828_40 FactorVAE_1658917929_10 FactorVAE_1658917970_20 FactorVAE_1658917984_40 FactorVAE_1658918615_1 FactorVAE_1658920025_10 FactorVAE_1658920182_20 FactorVAE_1658920199_40 FactorVAE_1658920299_1 FactorVAE_1658920332_10 FactorVAE_1658920350_20 FactorVAE_1658921527_40 FactorVAE_1658922358_1 FactorVAE_1658922582_10 FactorVAE_1658922608_20 FactorVAE_1658922696_40 FactorVAE_1658922742_1 FactorVAE_1658922747_10 FactorVAE_1658924556_20 FactorVAE_1658924908_40
    do
        sbatch -p gpu --cpus-per-task 2 --mem-per-cpu 2G --gres=gpu:1 --wrap "/home/csolis/forked_repo_nedvae/NED-VAE/model_centrality.sh $MODEL_I $MODEL_J $1 $2"
   
    done
done